#  Only minor changes by FirePrince: random pirate stations on create_pirate_base_1
###############
# New Pirates #
###############
#
# Needs event_target:owner_species
create_normal_pirate_country = {
	optimize_memory
	event_target:pirate_system = {
		random_system_planet = {
			limit = { $HOME_PLANET_TRIGGER|always$ = yes }
			save_event_target_as = pirate_home
			create_country = {
				name = "NAME_Pirates"
				type = pirate
				species = event_target:owner_species
				name_list = "PRT1"
				flag = {
					background = { category = "backgrounds" file = "00_solid.dds" }
					colors = { "black" "black" "null" "null" }
				}
				effect = {
					save_event_target_as = pirate_band
				}
			}
			event_target:pirate_band = {
				set_name = random
				randomize_flag_symbol = "pirate"
				every_country = {
					limit = { is_country_type_with_subjects = yes }
					establish_communications_no_message = prev
				}
				make_moderately_hostile = yes # Vfix Patch
			}
		}
	}
}

# DELETEME: Deprecated Obsolete Needless Vanilla Dummie
create_drone_pirate_country = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_drone_pirate_country' is very outdated! - Tell that to your favorite modder - Greetings FirePrince."
	create_normal_pirate_country = yes

	last_created_country = {
		set_country_flag = drone_pirate
	}
}

# DELETEME: Deprecated Obsolete Needless Vanilla Dummie
create_drone_pirate_country_2 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_drone_pirate_country_2' is very outdated! - Tell that to your favorite modder - Greetings FirePrince."
	if = {
		limit = {
			NOT = { exists = event_target:owner_species }
		}
		event_target:pirate_species = { save_event_target_as = owner_species }
	}

	create_normal_pirate_country = yes

	last_created_country = {
		set_country_flag = drone_pirate
	}
}

# DELETEME: Deprecated Obsolete Needless Vanilla Dummie
create_machine_pirate_country = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_machine_pirate_country' is very outdated! - Tell that to your favorite modder - Greetings FirePrince."
	if = {
		limit = {
			NOT = { exists = event_target:owner_species }
		}
		event_target:pirate_species = { save_event_target_as = owner_species }
	}

	create_normal_pirate_country = yes

	last_created_country = {
		set_country_flag = machine_pirate
	}
}

# DELETEME: Deprecated Obsolete Needless Vanilla Dummie
create_machine_pirate_country_2 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_machine_pirate_country_2' is very outdated! - Tell that to your favorite modder - Greetings FirePrince."
	if = {
		limit = {
			NOT = { exists = event_target:owner_species }
		}
		event_target:pirate_species = { save_event_target_as = owner_species }
	}

	create_normal_pirate_country = yes

	last_created_country = {
		set_country_flag = machine_pirate
	}
}

# root = pirate_target country / ship
create_pirate_base_1 = {
	optimize_memory
	create_fleet = {
		name = "NAME_Pirate_Station"
		effect = {
			set_owner = event_target:pirate_band
			random_list = {
				50 = {
					modifier = {
						factor = 0.02
						NOT = { root.owner = { has_technology = tech_mass_drivers_1 } }
					}
					create_ship = {
						name = random
						design = "NAME_Pirate_Nest"
						graphical_culture = "pirate_01"
					}
				}
				3 = {
					modifier = {
						factor = 0.1
						root.owner = { has_technology = tech_missiles_1 }
					}
					create_ship = {
						name = random
						design = "NAME_Pirate_Lair"
						graphical_culture = "pirate_01"
					}
				}
				2 = {
					modifier = {
						factor = 0.1
						root.owner = { has_technology = tech_lasers_1 }
					}
					create_ship = {
						name = random
						design = "NAME_Pirate_Den"
						graphical_culture = "pirate_01"
					}
				}
			}
			# if = {
			# 	limit = {
			# 		root = { has_technology = tech_mass_drivers_1 }
			# 	}
			# 	create_ship = {
			# 		name = random
			# 		design = "NAME_Pirate_Nest"
			# 		graphical_culture = "pirate_01"
			# 	}
			# } else_if = {
			# 	## Pre 2.0 stations
			# 	limit = {
			# 		root = { has_technology = tech_lasers_1 }
			# 	}
			# 	create_ship = {
			# 		name = random
			# 		design = "NAME_Pirate_Lair"
			# 		graphical_culture = "pirate_01"
			# 	}
			# } else_if = {
			# 	limit = {
			# 		root = { has_technology = tech_missiles_1 }
			# 	}
			# 	create_ship = {
			# 		name = random
			# 		design = "NAME_Pirate_Den"
			# 		graphical_culture = "pirate_01"
			# 	}
			# } else = {
			# 	create_ship = {
			# 		name = random
			# 		design = "NAME_Pirate_Nest"
			# 		graphical_culture = "pirate_01"
			# 	}
			# }
			set_location = event_target:pirate_home
		}
	}
}

create_pirate_fleet = {
	optimize_memory
	event_target:pirate_band = {
		create_leader = {
			class = commander
			species = owner_species
			name = random
			skill = 1
		}
		create_fleet = { # Vfix with else_if (pirates get too strong)
			name = "NAME_Pirate_Fleet"
			effect = {
				set_owner = event_target:pirate_band
				if = {
					limit = { years_passed > 99 }
					create_dyn_pirate_fleet = {
						Pirate_Galleon = 1
						Skull = 6
						Brigand = 6
					}
				}
				else_if = {
					limit = { years_passed > 90 }
					create_dyn_pirate_fleet = { Pirate_Galleon = 1 Black_Earl = 2 }
				}
				else_if = {
					limit = { years_passed > 80 }
					create_dyn_pirate_fleet = {
						Skull = 8
						Brigand = 6
						Marauder = 4
						Corsair = 4
						Black_Earl = 4
					}
				}
				else_if = {
					limit = { years_passed > 70 }
					create_dyn_pirate_fleet = {
						Skull = 7
						Brigand = 6
						Marauder = 4
						Corsair = 4
						Black_Earl = 3
					}
				}
				else_if = {
					limit = { years_passed > 60 }
					create_dyn_pirate_fleet = {
						Skull = 6
						Brigand = 6
						Marauder = 4
						Corsair = 4
						Black_Earl = 2
					}
				}
				else_if = {
					limit = { years_passed > 50 }
					create_dyn_pirate_fleet = {
						Skull = 6
						Brigand = 6
						Marauder = 4
						Corsair = 2
					}
				}
				else_if = {
					limit = { years_passed > 40 }
					create_dyn_pirate_fleet = { Skull = 8 Marauder = 4 }
				}
				else_if = {
					limit = { years_passed > 30 }
					create_dyn_pirate_fleet = { Skull = 6 Brigand = 6 }
				}
				else_if = {
					limit = { years_passed > 20 }
					create_dyn_pirate_fleet = { Reaver = 6 Brigand = 6 }
				}
				else_if = {
					limit = { years_passed > 10 }
					create_dyn_pirate_fleet = { Reaver = 10 Brigand = 4 }
				}
				else_if = {
					limit = { years_passed <= 10 }
					create_dyn_pirate_fleet = { Reaver = 10 }
				}
				set_location = event_target:pirate_home
				set_fleet_stance = aggressive
				set_aggro_range_measure_from = self
				set_aggro_range = 800
				assign_leader = last_created_leader
			}
		}
	}
}

## DELETEME - DEPRECATED: All Vanilla create_pirate_ships are obsolete - due 'create_dyn_pirate_fleet'

create_pirate_ships_0 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_0' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Reaver"
	}
	while = {
		count = 5
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_1 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_1' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Reaver"
	}
	while = {
		count = 5
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_2 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_2' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Reaver"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_3 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_3' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_4 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_4' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Marauder"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_5 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_5' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Marauder"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_6 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_6' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Marauder"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_7 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_7' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Marauder"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_8 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_8' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Marauder"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_9 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_9' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Pirate_Galleon"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_pirate_ships_10 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_pirate_ships_10' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Pirate_Galleon"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

### Privateers from "Arm Privateers" operation

create_privateer_country = {
	optimize_memory
	event_target:privateer_system = {
		random_system_planet = {
			save_event_target_as = privateer_home
			create_country = {
				name = "NAME_Privateers"
				type = pirate
				species = event_target:owner_species
				name_list = "PRT1"
				flag = {
					background = { category = "backgrounds" file = "00_solid.dds" }
					colors = { "black" "black" "null" "null" }
				}
				effect = {
					save_event_target_as = privateer_band
				}
			}
			event_target:privateer_band = {
				randomize_flag_symbol = "pirate"
				every_country = {
					limit = { is_country_type_with_subjects = yes }
					establish_communications_no_message = prev
				}
			}
		}
	}
}

# Update zz_diplo_vanilla_scripted_effects.txt from "Expanded Espionage and Diplomacy"
# Event targets created by create_privateer_country.
create_privateer_fleet = {
	event_target:privateer_band = {
		set_variable = { which = pirates_f_tmp value = 1 }
		create_leader = {
			class = commander
			species = owner_species
			name = random
			skill = 2
		}
		create_fleet = {
			name = "NAME_Privateers"
			effect = {
				set_owner = prev
				event_target:target_country = {
					switch = { trigger = fleet_power
						300 < { prev = { create_dyn_pirate_fleet = { Brigand = 1 } } }
						600 < { prev = { create_dyn_pirate_fleet = { Reaver = 2 } } }
						1000 < { prev = { create_dyn_pirate_fleet = { Reaver = 4 Brigand = 2 } } }
						2000 < { prev = { create_dyn_pirate_fleet = { Skull = 7 } } }
						4000 < { prev = { create_dyn_pirate_fleet = { Skull = 11 } } }
						8000 < { prev = { create_dyn_pirate_fleet = { Skull = 10 Corsair = 4 } } }
						12000 < { prev = { create_dyn_pirate_fleet = { Skull = 6 Brigand = 6 Corsair = 6 Black_Earl = 2 } } }
						20000 < { prev = { create_dyn_pirate_fleet = { Skull = 6 Brigand = 6 Marauder = 4 Corsair = 4 Black_Earl = 6 } } }
						30000 < { prev = { create_dyn_pirate_fleet = { Skull = 8 Brigand = 6 Marauder = 4 Corsair = 8 Black_Earl = 8 } } }
						50000 < { prev = { create_dyn_pirate_fleet = { Pirate_Galleon = 1 Corsair = 5 Black_Earl = 3 } } }
						80000 < { prev = { create_dyn_pirate_fleet = { Pirate_Galleon = 1 Skull = 6 Brigand = 6 Corsair = 10 Black_Earl = 6 } } }
						100000 < { prev = { create_dyn_pirate_fleet = { Pirate_Galleon = 2 Skull = 4 Brigand = 4 Corsair = 4 Black_Earl = 3 } } }
						200000 < { prev = { create_dyn_pirate_fleet = { Pirate_Galleon = 2 Skull = 8 Brigand = 8 Corsair = 12 Black_Earl = 8 } } }
						300000 < { prev = { create_dyn_pirate_fleet = { Pirate_Galleon = 3 Skull = 12 Brigand = 12 Corsair = 18 Black_Earl = 12 } } }
						300000 >= { prev = { create_dyn_pirate_fleet = { Pirate_Galleon = 4 Skull = 16 Brigand = 16 Corsair = 24 Black_Earl = 16 } } }
					}
				}
				set_location = event_target:privateer_home
				set_fleet_stance = aggressive
				set_aggro_range_measure_from = self
				set_aggro_range = 800
				assign_leader = last_created_leader
				# TODO An error occurred when reading trigger.h
				# queue_actions = {
				# 	find_closest_planet = {
				# 		# trigger = {
				# 		# 	id = privateerx1trigger1@prev
				# 		# 	is_star = yes
				# 		# }
				# 		found_planet = {
				# 			orbit_planet = this
				# 			wait = { duration = 5 random = 5 }
				# 		}
				# 	}
				# 	repeat = {
				# 		find_closest_system = {
				# 			trigger = {
				# 				id = $EVENT_ID|privateerx1$.trigger2 # @prev
				# 				exists = starbase
				# 				starbase = { has_starbase_size = starbase_starport can_generate_trade_value = yes }
				# 				NOR = { has_star_flag = hostile_system has_star_flag = recent_privateer_visit }
				# 			}
				# 			found_system = { move_to = this }
				# 		}
				# 		find_closest_planet = {
				# 			found_planet = {
				# 				orbit_planet = this
				# 				wait = { duration = 5 random = 5 }
				# 				effect = {
				# 					id = $EVENT_ID|create_pirate_fleet$_npc1 # @prev
				# 					solar_system = {
				# 						set_timed_star_flag = { flag = recent_privateer_visit years = 3 }
				# 					}
				# 				}
				# 			}
				# 		}
				# 	}
				# }
			}
		}
	}
}

## DELETEME - DEPRECATED: All Vanilla create_privateer_ship are obsolete - due 'create_dyn_pirate_fleet'

create_privateer_ships_0 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_0' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_1 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_1' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Reaver"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_2 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_2' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Reaver"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_3 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_3' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_4 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_4' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 5
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_5 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_5' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 5
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_6 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_6' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_7 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_7' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Marauder"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_8 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_8' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Marauder"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_9 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_9' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Pirate_Galleon"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_10 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_10' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Pirate_Galleon"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 3
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 5
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_11 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_11' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Pirate_Galleon"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 2
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

create_privateer_ships_12 = {
	optimize_memory
	log_error = "DEPRECATION WARNING: 'create_privateer_ships_12' is outdated - use 'create_dyn_pirate_fleet' instead!"

	create_ship_design = {
		design = "NAME_Pirate_Galleon"
	}
	while = {
		count = 1
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Skull"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Brigand"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Black_Earl"
	}
	while = {
		count = 4
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
	create_ship_design = {
		design = "NAME_Corsair"
	}
	while = {
		count = 6
		create_ship = {
			name = random
			design = last_created_design
			graphical_culture = "pirate_01"
		}
	}
}

#####################
# Late-game Pirates
#####################
# Bemat Thalassocracy
create_thalassocracy_country = {
	optimize_memory
	if = {
		limit = {
			NOT = { exists = event_target:thalassocracy_country }
		}
		create_species = {
			name = "NAME_Thalassocracy_species"
			plural = "NAME_Thalassocracy_species_plural"
			adjective = "NAME_Thalassocracy_species_adj"
			class = MAM
			portrait = "mam1"
			namelist = "HUM2"
			traits = {
				ideal_planet_class = pc_habitat
				trait = "trait_organic"
				trait = "trait_unruly"
				trait = "trait_nonadaptive"
				trait = "trait_talented"
				trait = "trait_deviants"
				trait = "trait_void_dweller_1"
			}
			effect = {
				save_event_target_as = thalassocracy_species
			} # Vfix opt
		}
		create_country = {
			name = "NAME_Thalassocracy"
			type = pirate
			contact_rule = on_action_only
			# ignore_initial_colony_error = yes
			species = event_target:thalassocracy_species
			name_list = "HUM2"
			flag = {
				icon = { category = "pirate" file = "flag_pirate_9.dds" }
				background = { category = "backgrounds" file = "pattern_01.dds" }
				colors = { "red" "black" "null" "null" }
			}
			effect = {
				save_global_event_target_as = thalassocracy_country
				set_faction_hostility = { set_hostile = yes }
			}
		}
	}
}

create_thalassocracy_fleet = {
	optimize_memory
	event_target:thalassocracy_country = {
		create_leader = {
			class = commander
			species = owner_species
			name = random
			skill = 4
		}
		create_fleet = {
			name = "NAME_Thalassocracy_fleet"
			effect = {
				set_owner = event_target:thalassocracy_country
				if = {
					limit = {
						event_target:thalassocracy_target_system = {
							# has_system_trade_value < 100
							years_passed < 100
						}
					}
					create_thalassocracy_ships_1 = yes
				}
				else_if = {
					limit = {
						event_target:thalassocracy_target_system = {
							# has_system_trade_value >= 100
							# has_system_trade_value < 140
							years_passed < 140
						}
					}
					create_thalassocracy_ships_2 = yes
				}
				else = {
					create_thalassocracy_ships_3 = yes
				}
				# set_fleet_formation = { }
				set_location = event_target:thalassocracy_spawn_planet
				set_fleet_stance = aggressive
				set_aggro_range_measure_from = self
				set_aggro_range = 400
				assign_leader = last_created_leader
				# save_global_event_target_as = thalassocracy_fleet Vfix opt, not used!?
				auto_move_to_planet = {
					target = event_target:thalassocracy_target_planet
					clear_auto_move_on_arrival = no
					arrival_effect = thalassocracy_patrol
				}
			}
		}
		set_country_flag = spawned_fleet
	}
}

create_thalassocracy_ships_1 = {
	optimize_memory
	while = {
		count = 20
		create_ship = {
			name = random
			design = "NAME_Bemat_corvette_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 18
		create_ship = {
			name = random
			design = "NAME_Bemat_destroyer_02"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 10
		create_ship = {
			name = random
			design = "NAME_Bemat_cruiser_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 7
		create_ship = {
			name = random
			design = "NAME_Bemat_cruiser_02"
			graphical_culture = "pirate_01"
		}
	}
}

create_thalassocracy_ships_2 = {
	optimize_memory
	while = {
		count = 17
		create_ship = {
			name = random
			design = "NAME_Bemat_corvette_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 14
		create_ship = {
			name = random
			design = "NAME_Bemat_destroyer_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 8
		create_ship = {
			name = random
			design = "NAME_Bemat_destroyer_02"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 13
		create_ship = {
			name = random
			design = "NAME_Bemat_cruiser_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 9
		create_ship = {
			name = random
			design = "NAME_Bemat_cruiser_02"
			graphical_culture = "pirate_01"
		}
	}
}

create_thalassocracy_ships_3 = {
	optimize_memory
	while = {
		count = 18
		create_ship = {
			name = random
			design = "NAME_Bemat_corvette_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 16
		create_ship = {
			name = random
			design = "NAME_Bemat_destroyer_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 12
		create_ship = {
			name = random
			design = "NAME_Bemat_destroyer_02"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 15
		create_ship = {
			name = random
			design = "NAME_Bemat_cruiser_01"
			graphical_culture = "pirate_01"
		}
	}
	while = {
		count = 10
		create_ship = {
			name = random
			design = "NAME_Bemat_cruiser_02"
			graphical_culture = "pirate_01"
		}
	}
}

thalassocracy_patrol = {
	optimize_memory
	if = { # Visit every planet in a system once.
		limit = {
			solar_system = {
				any_system_planet = {
					NOT = { has_planet_flag = thalassocracy_visited }
				}
			}
		}
		solar_system = {
			random_system_planet = {
				limit = {
					NOT = { has_planet_flag = thalassocracy_visited }
				}
				save_global_event_target_as = thalassocracy_target_planet
				set_planet_flag = thalassocracy_visited
			}
		}
	}
	else_if = { # Leave for the next unvisited system.
		limit = {
			solar_system = {
				any_neighbor_system = {
					any_system_planet = {
						NOT = { has_planet_flag = thalassocracy_visited }
					}
				}
			}
		}
		solar_system = {
			random_neighbor_system = {
				limit = {
					any_system_planet = {
						NOT = { has_planet_flag = thalassocracy_visited }
					}
				}
				save_global_event_target_as = thalassocracy_target_system
				random_system_planet = {
					limit = {
						NOT = { has_planet_flag = thalassocracy_visited }
					}
					save_global_event_target_as = thalassocracy_target_planet
					set_planet_flag = thalassocracy_visited
				}
			}
		}
	}
	else = {
		# Vfix opt: there also exists "non-global-targets"
		event_target:thalassocracy_target_system = {
			random_system_planet = {
				save_global_event_target_as = thalassocracy_target_planet
				set_planet_flag = thalassocracy_visited
			}
		}
	}
	auto_move_to_planet = {
		target = event_target:thalassocracy_target_planet
		clear_auto_move_on_arrival = no
		arrival_effect = thalassocracy_patrol
	}
}
