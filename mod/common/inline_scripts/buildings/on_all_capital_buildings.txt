# All capital buildings... except the Synaptic Lathe

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_imperial_authority = yes
			NOR = {
				is_cyber_imperial = yes
				is_synth_imperial = yes
				is_purity_authority = yes
				is_cloning_authority = yes
				is_mutation_authority = yes
				is_transcendent_authority = yes
				is_corporeal_authority = yes
			}
			capital_scope.solar_system = {
				is_same_value = ROOT.solar_system
			}
		}
	}
	pop_bonus_workforce_mult = 0.1
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		NOR = {
			owner = { is_gestalt = yes }
			has_modifier = slave_colony
		}
	}
	job_soldier_add = 1
	mult = modifier:job_soldier_or_warrior_add
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { is_gestalt = no }
		has_modifier = slave_colony
	}
	job_battle_thrall_add = 1
	mult = modifier:job_soldier_or_warrior_add
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_gestalt = yes
			is_wilderness_empire = no # no effect for Wilderness
		}
	}
	job_warrior_drone_add = 1
	mult = modifier:job_soldier_or_warrior_add
}

# Productivity Techs
triggered_planet_modifier = {
	potential = {
		capital_tier >= 2
		exists = owner
		owner = {
			has_technology = tech_capital_productivity_1
			NAND = {
				has_technology = tech_capital_productivity_2
				prev = { capital_tier >= 3 }
			}
		}
	}
	pop_bonus_workforce_mult = 0.1
}

triggered_planet_modifier = {
	potential = {
		capital_tier >= 3
		exists = owner
		owner = {
			has_technology = tech_capital_productivity_2
			NAND = {
				has_technology = tech_capital_productivity_3
				prev = { capital_tier >= 4 }
			}
		}
	}
	pop_bonus_workforce_mult = 0.2
}

triggered_planet_modifier = {
	potential = {
		capital_tier >= 4
		exists = owner
		owner = {
			has_technology = tech_capital_productivity_3
		}
	}
	pop_bonus_workforce_mult = 0.3
}

# Cyber Organ Harvesting
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { has_active_tradition = tr_cybernetics_organ_harvesting }
		has_current_purge = yes
		exists = growing_species
		growing_species = {
			OR = {
				has_trait = trait_cybernetic
				has_trait = trait_cyborg_ritualistic_implants
			}
		}
	}
	logistic_growth_mult = 0.1
}

# Cyber Implant Taxes
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { has_modifier = cyber_implant_taxes }
		exists = growing_species
		growing_species = {
			species = { has_trait = trait_cybernetic }
		}
	}
	planet_augmentors_upkeep_mult = 0.10
}

# Cyber Imperial Jobs
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_cyber_imperial = yes
		}
	}
	job_politician_add = @building_static_jobs
}

# Cyber Imperial Collectivist
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_cyber_imperial = yes
			NOT = { has_edict = neurocasted_spectacles }
		}
		NAND = {
			exists = sector
			sector = { has_sector_type = core_sector }
		}
	}
	pop_happiness = -0.1
}

# Cyber Imperial Collectivist
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_cyber_imperial = yes
			has_edict = neurocasted_spectacles
			NOT = { capital_scope = { is_same_value = root } }
		}
	}
	pop_happiness = 0.1
}

# Synthetic Identity Policy: Identity Fusion
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { has_policy_flag = identity_fusion }
		exists = assembling_species # Vfix
		assembling_species = { is_robotic = yes }
	}
	planet_pop_assemblers_upkeep_mult = 0.10
}

# Synthetic Identity Policy: Identity Initialization
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { has_policy_flag = identity_initialization }
		exists = assembling_species # Vfix
		assembling_species = { is_robotic = yes }
	}
	planet_pop_assemblers_upkeep_mult = 0.20
}
# Synthetic Physical District Upkeep
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_democratic_authority = yes
			has_country_flag = synth_physical
		}
	}
	key = auth_synth_democratic_physical
	planet_districts_energy_upkeep_mult = 0.01
	mult = value:count_any_districts
}

# Synthetic Physical Specialist Production
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_democratic_authority = yes
			has_country_flag = synth_physical
		}
	}
	key = auth_synth_democratic_physical
	pop_cat_specialist_bonus_workforce_mult = 0.01
	mult = value:count_any_districts
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { has_active_tradition = tr_virtuality_5 }
		has_planetary_ascension_tier >= 1
	}
	planet_max_districts_add = 1
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { has_active_tradition = tr_virtuality_5 }
		has_planetary_ascension_tier >= 5
	}
	planet_max_districts_add = 1
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { has_active_tradition = tr_virtuality_5 }
		has_planetary_ascension_tier >= 10
	}
	planet_max_districts_add = 1
}

# prefabricated components
# +1 Replicator
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_gestalt = yes
			has_active_tradition = tr_synthetics_prefabricated_components_machine
		}
	}
	job_replicator_add = 100
}

#Traders from Branch Offices
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = { is_megacorp = yes }
		is_capital = yes
	}
	job_trader_add = 1
	mult = modifier:job_capital_trader_add
}

# Corporate Evolutionary Predators
triggered_country_modifier = {
	potential = {
		exists = owner
		is_capital = yes
		owner = {
			is_megacorp = yes
			has_origin = origin_evolutionary_predators
			is_mutation_authority = yes
		}
	}
	commercial_pact_mult = 0.01
	mult = owner_species.species_traits_evopred_count
}

#Storm Chasers get Storm Shelter effects for free
triggered_planet_modifier = { #basic shelter
	potential = {
		exists = owner
		owner = {
			AND = {
				has_origin = origin_storm_chasers
				has_technology = tech_industrial_storm_protection
			}
		}
		solar_system = {
			has_star_flag = storm_system
		}
	}
	modifier = {
		planet_miners_minerals_produces_add = 1
		planet_farmers_food_produces_add = 1
		planet_technician_energy_produces_add = 1
	}
}

triggered_planet_modifier = { #add advanced shelter effect
	potential = {
		exists = owner
		owner = {
			AND = {
				has_origin = origin_storm_chasers
				has_technology = tech_advanced_industrial_storm_protection
			}
		}
		solar_system = {
			has_star_flag = storm_system
		}
	}
	modifier = {
		planet_miners_minerals_produces_add = 1
		planet_farmers_food_produces_add = 1
		planet_technician_energy_produces_add = 1
	}
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_galactic_community_member = yes
			AND = {
				has_origin = origin_storm_chasers
				has_technology = tech_industrial_storm_protection
			}
		}
	}
	modifier = {
		planet_miners_produces_mult = 1
		planet_farmers_produces_mult = 1
		planet_technician_produces_mult = 1
	}
	mult = value:storm_building_production_multiplier
}

triggered_planet_modifier = {
	potential = {
		has_cosmic_storms_dlc = yes
		exists = owner
		owner = {
			has_origin = origin_storm_chasers
		}
	}

	planet_jobs_unity_produces_mult = @storm_chasers_storm_building_unity_produces_mult
}

# Imperious Architecture
triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_gestalt = no
			is_worker_coop_empire = no
			has_active_tradition = tr_domination_imperious_architecture
		}
	}
	planet_housing_add = 100
	job_politician_add = 100
	mult = value:imperious_architecture_scaling_value
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_gestalt = no
			is_worker_coop_empire = yes
			has_active_tradition = tr_domination_imperious_architecture
		}
	}
	planet_housing_add = 100
	job_bureaucrat_add = 150
	mult = value:imperious_architecture_scaling_value
}

triggered_planet_modifier = {
	potential = {
		exists = owner
		owner = {
			is_hive_empire = yes
			is_wilderness_empire = no
			has_active_tradition = tr_domination_imperious_architecture
		}
	}
	planet_housing_add = 150
	job_coordinator_add = 150
	mult = value:imperious_architecture_scaling_value
}
